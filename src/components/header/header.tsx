'use client';

import headerData from '@/components/header/header-data';
import { AppBar, Box, Button, Container, Link, Tab, Tabs } from '@mui/material';
import { usePathname } from 'next/navigation';
import React, { useEffect, useState } from 'react';
import HeaderEnum from '../../enum/header-enum';
import generateHeaderData from '../../utils/header-map/header-map';
import './header.scss';

function Header() {
  const pathToEnumMap = generateHeaderData();
  const pathname = usePathname();
  const [currentPath, setCurrentPath] = useState(
    pathToEnumMap[pathname] || false
  );

  useEffect(() => {
    setCurrentPath(pathToEnumMap[pathname] || false);
  }, [pathToEnumMap, pathname]);

  const handleChange = (
    event: React.ChangeEvent<any>,
    newValue: HeaderEnum
  ) => {
    setCurrentPath(newValue);
  };

  return (
    // <Box component={'header'} className="header-outer-box">
    //   <Box className="header-inner-box">
    //     <Link href="/" className="title-link">
    //       OpenBC
    //     </Link>
    //     <Tabs value={currentPath} onChange={handleChange}>
    //       {headerData.map((tab, index) => (
    //         <Tab
    //           key={index}
    //           label={tab.label}
    //           value={tab.value}
    //           href={tab.href}
    //           role="button"
    //           className="header-tab"
    //           component={Link}
    //         />
    //       ))}
    //     </Tabs>
    //     <Box component={'nav'} className="header-nav"></Box>
    //   </Box>
    // </Box>
    <AppBar position="static" component="header" className="header-container">
      <Container className="header">
        <Box className="header__wrapper">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="64"
            height="64"
            viewBox="0 0 64 64"
            fill="none"
            className="header__logo"
          >
            <g clip-path="url(#clip0_629_2081)">
              <path
                d="M58.6667 0H5.33333C2.38781 0 0 2.38781 0 5.33333V58.6667C0 61.6122 2.38781 64 5.33333 64H58.6667C61.6122 64 64 61.6122 64 58.6667V5.33333C64 2.38781 61.6122 0 58.6667 0Z"
                fill="#114F8C"
              />
              <path
                d="M41.9844 30.0002V16.1309H44.859L49.731 23.8589V16.1309H53.3524V30.0002H50.4777L45.6057 22.2722V30.0002H41.9844Z"
                fill="#FDCF51"
              />
              <path
                d="M34.3774 30.1122C34.0788 30.1122 33.718 30.081 33.2948 30.0188C32.8841 29.9567 32.4798 29.8196 32.0814 29.6082C31.6958 29.3967 31.3721 29.073 31.1108 28.6375C30.8494 28.1895 30.7188 27.5796 30.7188 26.8082V19.5655C30.7188 18.8935 30.8246 18.3335 31.0361 17.8855C31.2478 17.4375 31.5214 17.0891 31.8574 16.8402C32.1934 16.5789 32.5668 16.3984 32.9774 16.2989C33.3881 16.1869 33.7865 16.1309 34.1721 16.1309C35.2174 16.1309 36.1134 16.1495 36.8601 16.1869C37.6193 16.2117 38.2726 16.2429 38.8201 16.2802C39.3801 16.3175 39.8718 16.3611 40.2948 16.4109V19.4722H35.2921C34.9811 19.4722 34.7446 19.5406 34.5828 19.6775C34.4212 19.8144 34.3401 20.0197 34.3401 20.2935V21.4509L39.3614 21.6375V24.5122L34.3401 24.6989V25.7442C34.3401 25.9682 34.3713 26.1549 34.4334 26.3042C34.5081 26.4411 34.6078 26.5469 34.7321 26.6215C34.8566 26.6836 34.9934 26.7148 35.1428 26.7148H40.2948V29.7762C39.7598 29.8508 39.15 29.913 38.4654 29.9628C37.7812 30.0127 37.0841 30.05 36.3748 30.0748C35.6654 30.0996 34.9998 30.1122 34.3774 30.1122Z"
                fill="#FDCF51"
              />
              <path
                d="M18.9062 30.0002V16.1309H24.9916C25.4645 16.1309 25.9498 16.1869 26.4476 16.2989C26.9453 16.3984 27.3995 16.6162 27.8101 16.9522C28.2333 17.2757 28.5693 17.7735 28.8181 18.4455C29.0795 19.1051 29.2101 19.9886 29.2101 21.0962C29.2101 22.2162 29.0859 23.1184 28.8368 23.8029C28.588 24.4749 28.2645 24.9851 27.8661 25.3335C27.468 25.6695 27.0325 25.8997 26.5596 26.0242C26.0992 26.1362 25.6449 26.1922 25.1969 26.1922C24.9605 26.1922 24.7116 26.1797 24.4503 26.1549C24.2014 26.13 23.9525 26.0989 23.7036 26.0615C23.4672 26.0117 23.2432 25.9682 23.0316 25.9309C22.8325 25.8811 22.6645 25.8437 22.5276 25.8189V30.0002H18.9062ZM22.5276 22.9442H24.6183C24.8672 22.9442 25.06 22.8757 25.1969 22.7389C25.3463 22.602 25.4458 22.4029 25.4956 22.1415C25.5578 21.8677 25.5889 21.5317 25.5889 21.1335C25.5889 20.7477 25.5516 20.4242 25.4769 20.1629C25.4147 19.9015 25.3152 19.7086 25.1783 19.5842C25.0414 19.4473 24.8547 19.3789 24.6183 19.3789H22.5276V22.9442Z"
                fill="#FDCF51"
              />
              <path
                d="M11.2693 30.112C10.2861 30.112 9.42125 30.0187 8.67459 29.832C7.94037 29.6328 7.32437 29.2845 6.82659 28.7867C6.3288 28.2888 5.95547 27.5795 5.70659 26.6587C5.45771 25.7253 5.33325 24.5245 5.33325 23.056C5.33325 21.5875 5.45771 20.3929 5.70659 19.472C5.95547 18.5387 6.3288 17.8231 6.82659 17.3253C7.32437 16.8275 7.94037 16.4853 8.67459 16.2987C9.42125 16.0995 10.2861 16 11.2693 16C12.2524 16 13.111 16.0995 13.8453 16.2987C14.5919 16.4853 15.2141 16.8275 15.7119 17.3253C16.2097 17.8231 16.583 18.5387 16.8319 19.472C17.0808 20.3929 17.2053 21.5875 17.2053 23.056C17.2053 24.5245 17.0808 25.7253 16.8319 26.6587C16.583 27.5795 16.2097 28.2888 15.7119 28.7867C15.2141 29.2845 14.5919 29.6328 13.8453 29.832C13.111 30.0187 12.2524 30.112 11.2693 30.112ZM11.2693 26.864C11.7421 26.864 12.1279 26.808 12.4266 26.696C12.7253 26.584 12.9555 26.3911 13.1173 26.1173C13.2915 25.8435 13.4097 25.4578 13.4719 24.96C13.5466 24.4622 13.5839 23.8275 13.5839 23.056C13.5839 22.2471 13.5466 21.5938 13.4719 21.096C13.4097 20.5982 13.2915 20.2187 13.1173 19.9573C12.9555 19.6835 12.7253 19.4969 12.4266 19.3973C12.1279 19.2978 11.7421 19.248 11.2693 19.248C10.8088 19.248 10.423 19.2978 10.1119 19.3973C9.81325 19.4969 9.5768 19.6835 9.40259 19.9573C9.2408 20.2187 9.12258 20.5982 9.04792 21.096C8.9857 21.5938 8.95459 22.2471 8.95459 23.056C8.95459 23.8275 8.9857 24.4622 9.04792 24.96C9.12258 25.4578 9.2408 25.8435 9.40259 26.1173C9.5768 26.3911 9.81325 26.584 10.1119 26.696C10.423 26.808 10.8088 26.864 11.2693 26.864Z"
                fill="#FDCF51"
              />
              <path
                d="M54.0699 48.7785C53.2859 48.7785 52.5829 48.6852 51.9605 48.4985C51.3384 48.3118 50.8032 47.9697 50.3552 47.4718C49.9072 46.974 49.5651 46.2585 49.3285 45.3252C49.0923 44.3918 48.9739 43.1785 48.9739 41.6852C48.9739 40.2417 49.0984 39.0593 49.3472 38.1385C49.5963 37.2177 49.9445 36.5084 50.3925 36.0105C50.8531 35.5004 51.3944 35.1518 52.0165 34.9652C52.6389 34.766 53.3232 34.6665 54.0699 34.6665C54.8416 34.6665 55.5197 34.71 56.1045 34.7972C56.7019 34.8718 57.2059 34.9652 57.6165 35.0772C58.0397 35.1892 58.3757 35.3012 58.6245 35.4132V38.2318C58.3883 38.182 58.0832 38.1324 57.7099 38.0825C57.3365 38.0326 56.9072 37.9953 56.4219 37.9705C55.9491 37.9332 55.4325 37.9145 54.8725 37.9145C54.4496 37.9145 54.0885 37.958 53.7899 38.0452C53.5037 38.1324 53.2736 38.3065 53.0992 38.5678C52.9251 38.8292 52.7944 39.215 52.7072 39.7252C52.6325 40.223 52.5952 40.8886 52.5952 41.7225C52.5952 42.4692 52.6264 43.0913 52.6885 43.5892C52.7509 44.087 52.8629 44.479 53.0245 44.7652C53.1864 45.039 53.4165 45.238 53.7152 45.3625C54.0264 45.4745 54.4245 45.5305 54.9099 45.5305C55.8557 45.5305 56.6211 45.518 57.2059 45.4932C57.8032 45.4558 58.2763 45.4124 58.6245 45.3625V48.1812C58.3136 48.3057 57.9464 48.4113 57.5232 48.4985C57.1125 48.5857 56.6272 48.654 56.0672 48.7038C55.5072 48.7537 54.8416 48.7785 54.0699 48.7785Z"
                fill="#F4F8FC"
              />
              <path
                d="M37.3333 48.6667V34.7974H43.0826C44.5759 34.7974 45.6461 35.1272 46.2933 35.7867C46.9527 36.4462 47.2826 37.3486 47.2826 38.4934C47.2826 39.0286 47.2079 39.5014 47.0586 39.912C46.9218 40.3102 46.7101 40.6462 46.4239 40.92C46.1501 41.1814 45.8018 41.3619 45.3786 41.4614C45.7021 41.5486 46.0071 41.6792 46.2933 41.8534C46.5794 42.0275 46.8285 42.2579 47.0399 42.544C47.2514 42.8302 47.4133 43.1662 47.5253 43.552C47.6498 43.9379 47.7119 44.3734 47.7119 44.8587C47.7119 45.7672 47.5501 46.5014 47.2266 47.0614C46.9031 47.6214 46.4178 48.032 45.7706 48.2934C45.1234 48.5422 44.3207 48.6667 43.3626 48.6667H37.3333ZM40.9546 45.4187H43.2506C43.4746 45.4187 43.6613 45.3688 43.8106 45.2694C43.9599 45.1699 44.0719 45.0328 44.1466 44.8587C44.2338 44.672 44.2773 44.4542 44.2773 44.2054C44.2773 43.9566 44.2338 43.7448 44.1466 43.5707C44.0719 43.384 43.9599 43.2408 43.8106 43.1414C43.6613 43.0419 43.4746 42.992 43.2506 42.992H40.9546V45.4187ZM40.9546 40.248H43.0453C43.3191 40.248 43.5181 40.1422 43.6426 39.9307C43.7794 39.7192 43.8479 39.4579 43.8479 39.1467C43.8479 38.7235 43.7607 38.4374 43.5866 38.288C43.4247 38.1262 43.2445 38.0454 43.0453 38.0454H40.9546V40.248Z"
                fill="#F4F8FC"
              />
            </g>
            <defs>
              <clipPath id="clip0_629_2081">
                <rect width="64" height="64" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <Tabs value={currentPath} onChange={handleChange}>
            {headerData.map((tab, index) => (
              <Tab
                key={index}
                label={tab.label}
                value={tab.value}
                href={tab.href}
                role="button"
                className="header-tab"
                component={Link}
              />
            ))}
          </Tabs>
        </Box>
        <Box className="header__wrapper">
          <Button variant="outlined">Donate</Button>
        </Box>
      </Container>
    </AppBar>
  );
}

export default Header;
